/* BCI Studio Data Visualization Style Guide CSS
 * Version 1.0 | 2022
 * British Columbia Investment Management Corporation
 */

/* ===== ROOT VARIABLES ===== */
:root {
  /* BCI Brand Colors - Data Series */
  --bci-midnight: #00365b;
  --bci-ocean: #00abbd;
  --bci-gray: #696f79;
  --bci-slate: #457b96;
  --bci-khaki: #a6b38c;
  --bci-purple: #4a317e;
  --bci-yellow: #fdb736;
  --bci-orange: #dc642b;
  --bci-emerald: #819f4d;
  --bci-jade: #57837b;
  --bci-amethyst: #864c9e;
  --bci-garnet: #ae1e57;
  --bci-melon: #f68e47;
  --bci-pear: #c1b64e;
  
  /* Text and Label Colors */
  --bci-dark-ocean: #0091a1;
  --bci-dark-khaki: #808F57;
  --bci-dark-yellow: #D07C18;
  --bci-dark-orange: #C74E23;
  --bci-text-black: #48484A;
  
  /* Structural Colors */
  --bci-gray-1: #F2F2F2;
  --bci-gray-2: #D9D9D9;
  --bci-gray-3: #BFBFBF;
  --bci-gray-4: #A6A6A6;
  --bci-gray-5: #7F7F7F;
  --bci-de-emphasis: #BFBFBF;
  
  /* Spark Bar Colors */
  --bci-positive-spark: #E5EBEE; /* 10% midnight */
  --bci-negative-spark: #F8E0D5; /* 20% orange */
  
  /* Typography */
  --bci-font-family: 'Calibri', Arial, sans-serif;
  --bci-font-size-h1: 31pt;
  --bci-font-size-h2: 11pt;
  --bci-font-size-h3: 11pt;
  --bci-font-size-body: 11pt;
  --bci-font-size-intro: 13pt;
  --bci-font-size-chart: 9pt;
  --bci-font-size-source: 8pt;
  
  /* Spacing */
  --bci-vertical-spacing-large: 0.5in;
  --bci-vertical-spacing-small: 0.25in;
  --bci-cell-margin: 0.1in;
  --bci-row-height: 0.3in;
}

/* ===== TYPOGRAPHY ===== */
body {
  font-family: var(--bci-font-family);
  font-size: var(--bci-font-size-body);
  color: var(--bci-text-black);
  line-height: 1.4;
}

/* Headings */
h1, .h1 {
  font-family: var(--bci-font-family);
  font-weight: 300; /* Calibri Light */
  font-size: var(--bci-font-size-h1);
  color: var(--bci-midnight);
  text-align: left;
  margin-top: var(--bci-vertical-spacing-large);
  margin-bottom: var(--bci-vertical-spacing-large);
}

h2, .h2 {
  font-family: var(--bci-font-family);
  font-weight: bold;
  font-size: var(--bci-font-size-h2);
  color: var(--bci-dark-ocean);
  text-transform: uppercase;
  text-align: left;
  margin-top: var(--bci-vertical-spacing-large);
  margin-bottom: var(--bci-vertical-spacing-large);
}

h3, .h3 {
  font-family: var(--bci-font-family);
  font-weight: bold;
  font-size: var(--bci-font-size-h3);
  color: var(--bci-text-black);
  text-align: left;
  margin-bottom: 0.25em;
}

/* Body Text */
.intro-text {
  font-family: var(--bci-font-family);
  font-weight: normal;
  font-size: var(--bci-font-size-intro);
  color: var(--bci-midnight);
  text-align: left;
}

.body-text {
  font-family: var(--bci-font-family);
  font-weight: normal;
  font-size: var(--bci-font-size-body);
  color: var(--bci-text-black);
  text-align: left;
}

.source-text, .notes-text, .footnote-text {
  font-family: var(--bci-font-family);
  font-weight: normal;
  font-size: var(--bci-font-size-source);
  color: var(--bci-text-black);
  text-align: left;
}

/* ===== CHART ELEMENTS ===== */
.chart-container {
  margin: var(--bci-vertical-spacing-small) 0;
}

.chart-title {
  font-family: var(--bci-font-family);
  font-weight: bold;
  font-size: var(--bci-font-size-h3);
  color: var(--bci-text-black);
  text-align: left;
  margin-bottom: 0.1em;
}

.chart-subtitle {
  font-family: var(--bci-font-family);
  font-weight: normal;
  font-size: 10pt;
  color: var(--bci-text-black);
  text-align: left;
  margin-bottom: var(--bci-vertical-spacing-small);
}

.chart-label, .axis-label {
  font-family: var(--bci-font-family);
  font-size: var(--bci-font-size-chart);
  color: var(--bci-text-black);
}

.y-axis-title {
  font-family: var(--bci-font-family);
  font-size: var(--bci-font-size-chart);
  color: var(--bci-text-black);
  text-orientation: mixed;
}

.data-label {
  font-family: var(--bci-font-family);
  font-weight: bold;
  font-size: var(--bci-font-size-chart);
}

.legend {
  font-family: var(--bci-font-family);
  font-size: var(--bci-font-size-chart);
}

/* ===== CHART COLORS ===== */
/* Data Series Colors (in order of usage) */
.color-1, .midnight { background-color: var(--bci-midnight); color: white; }
.color-2, .ocean { background-color: var(--bci-ocean); color: white; }
.color-3, .gray { background-color: var(--bci-gray); color: white; }
.color-4, .slate { background-color: var(--bci-slate); color: white; }
.color-5, .khaki { background-color: var(--bci-khaki); color: var(--bci-text-black); }
.color-6, .purple { background-color: var(--bci-purple); color: white; }
.color-7, .yellow { background-color: var(--bci-yellow); color: var(--bci-text-black); }
.color-8, .orange { background-color: var(--bci-orange); color: white; }
.color-9, .emerald { background-color: var(--bci-emerald); color: white; }
.color-10, .jade { background-color: var(--bci-jade); color: white; }
.color-11, .amethyst { background-color: var(--bci-amethyst); color: white; }
.color-12, .garnet { background-color: var(--bci-garnet); color: white; }
.color-13, .melon { background-color: var(--bci-melon); color: var(--bci-text-black); }
.color-14, .pear { background-color: var(--bci-pear); color: var(--bci-text-black); }

/* De-emphasis */
.de-emphasis { background-color: var(--bci-de-emphasis); color: var(--bci-text-black); }

/* Text colors for labels */
.text-midnight { color: var(--bci-midnight); }
.text-dark-ocean { color: var(--bci-dark-ocean); }
.text-gray { color: var(--bci-gray); }
.text-slate { color: var(--bci-slate); }
.text-dark-khaki { color: var(--bci-dark-khaki); }
.text-purple { color: var(--bci-purple); }
.text-dark-yellow { color: var(--bci-dark-yellow); }
.text-dark-orange { color: var(--bci-dark-orange); }
.text-black { color: var(--bci-text-black); }
.text-gray-5 { color: var(--bci-gray-5); }

/* ===== CHART LINES AND GRIDLINES ===== */
.gridline-major {
  stroke: var(--bci-gray-2);
  stroke-width: 1pt;
}

.gridline-minor {
  stroke: var(--bci-gray-3);
  stroke-width: 0.5pt;
}

.axis-line {
  stroke: var(--bci-gray-4);
  stroke-width: 1pt;
}

.baseline {
  stroke: var(--bci-gray-4);
  stroke-width: 1pt;
}

.fever-line, .data-line {
  stroke-width: 2pt;
  fill: none;
}

.benchmark-line {
  stroke: var(--bci-ocean);
  stroke-width: 2.5pt;
  stroke-dasharray: 5,5;
}

.target-line {
  stroke: var(--bci-gray-3);
  stroke-width: 2pt;
  stroke-dasharray: 5,5;
}

/* ===== TABLES ===== */
.bci-table {
  font-family: var(--bci-font-family);
  font-size: var(--bci-font-size-chart);
  border-collapse: collapse;
  width: 100%;
  margin: var(--bci-vertical-spacing-small) 0;
}

.bci-table th {
  font-weight: bold;
  color: var(--bci-midnight);
  text-align: left;
  padding: var(--bci-cell-margin);
  height: var(--bci-row-height);
  background-color: white;
}

.bci-table .sub-heading {
  font-weight: bold;
  color: var(--bci-midnight);
  text-transform: uppercase;
  background-color: var(--bci-gray-2);
  padding: var(--bci-cell-margin);
  height: var(--bci-row-height);
}

.bci-table td {
  color: var(--bci-text-black);
  padding: var(--bci-cell-margin);
  height: var(--bci-row-height);
  border-bottom: 1pt solid var(--bci-gray-3);
}

.bci-table .total-row td {
  border-bottom: 2.25pt solid var(--bci-gray-3);
  font-weight: bold;
}

.bci-table .number {
  text-align: right;
}

.bci-table .text {
  text-align: left;
}

.bci-table .negative {
  /* Negative numbers in parentheses */
}

.bci-table .null-value::before {
  content: "â€“"; /* en-dash for null values */
}

.bci-table .not-applicable::before {
  content: "n/a";
}

/* Featured column */
.bci-table .featured-column {
  background-color: var(--bci-gray-1);
}

/* Vertical lines (optional, use sparingly) */
.bci-table.with-vertical-lines td,
.bci-table.with-vertical-lines th {
  border-right: 1pt solid var(--bci-gray-3);
}

/* ===== SPARK BARS ===== */
.spark-bar-positive {
  background-color: var(--bci-positive-spark);
  display: inline-block;
  height: 1em;
}

.spark-bar-negative {
  background-color: var(--bci-negative-spark);
  display: inline-block;
  height: 1em;
}

/* ===== LAYOUT UTILITIES ===== */
.column-1 { width: 33.33%; }
.column-2 { width: 66.66%; }
.column-3 { width: 100%; }

.vertical-spacing-large {
  margin-top: var(--bci-vertical-spacing-large);
  margin-bottom: var(--bci-vertical-spacing-large);
}

.vertical-spacing-small {
  margin-top: var(--bci-vertical-spacing-small);
  margin-bottom: var(--bci-vertical-spacing-small);
}

/* ===== EMPHASIS AND DE-EMPHASIS ===== */
.emphasis {
  color: var(--bci-midnight);
  font-weight: bold;
}

.emphasis-ocean {
  color: var(--bci-ocean);
  font-weight: bold;
}

.de-emphasis-text {
  color: var(--bci-gray-5);
}

/* Chart elements for emphasis */
.emphasized-segment {
  fill: var(--bci-midnight);
  stroke: white;
  stroke-width: 2px;
}

.de-emphasized-segment {
  fill: var(--bci-gray-3);
  stroke: white;
  stroke-width: 2px;
}

/* ===== RISK INDICATORS ===== */
.risk-symbol {
  width: 1.2em;
  height: 1.2em;
  border-radius: 50%;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  font-size: 0.8em;
  margin-right: 0.5em;
}

.risk-low { background-color: var(--bci-emerald); color: white; }
.risk-medium { background-color: var(--bci-yellow); color: var(--bci-text-black); }
.risk-high { background-color: var(--bci-orange); color: white; }
.risk-critical { background-color: var(--bci-garnet); color: white; }

/* ===== RESPONSIVE BEHAVIOR ===== */
@media (max-width: 768px) {
  :root {
    --bci-font-size-h1: 24pt;
    --bci-font-size-body: 10pt;
    --bci-font-size-chart: 8pt;
  }
  
  .column-1, .column-2, .column-3 {
    width: 100%;
  }
}

/* ===== ACCESSIBILITY ===== */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* High contrast mode */
@media (prefers-contrast: high) {
  :root {
    --bci-gray-1: #E0E0E0;
    --bci-gray-2: #C0C0C0;
    --bci-gray-3: #808080;
  }
}

/* ===== PRINT STYLES ===== */
@media print {
  .chart-container {
    break-inside: avoid;
  }
  
  .bci-table {
    break-inside: avoid;
  }
  
  h1, h2, h3 {
    break-after: avoid;
  }
}